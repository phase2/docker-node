# CONTRIBUTING

## v1 Images: Node v4 and Node v6

These images are only accepting bugfixes.

## v2 Images: Node v8+

The directory contents for these Node versions are generated by the
templating process.

* **Changing the Dockerfile:** Modify `./Dockerfile.template`.
* **Changing copied resources:** Modify the contents of `./common/`

### Modifying a Docker Image

1. Make changes to the templates.
2. Navigate to the repo root.
3. Run `./template.sh` or `./template.sh {version}`

The results of the templating process should be committed to the repository.

### Adding a New Node Version

Create an empty directory named as the Node version number. It must be a version
that matches the available alpine variants of [the official node image](https://hub.docker.com/_/node).

Run `./template.sh` to initialize the directory with a Docker image manifest.

### Diverging Image Implementation by Version

At this time, if we added support for Node v9 the contents of this repo's template
resources would be identical. We want to keep it that way for simplicity as long
as possible. Divergence like this might be grounds for a new major Image version,
for example going to 3-node10 if node v10 will have different Docker image behavior
from Node v8.

## Test Your Changes

Ensure the Dockerfile continues to build and that you can run it to access the
Node REPL.
